openapi: 3.0.3
info:
  version: "1.0.1"
  title: PP REST API Docs
  description: |-
    í•´ë‹¹ ë¬¸ì„œëŠ” PP REST API ëª…ì„¸ì— ëŒ€í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

tags:
  - name: ğŸ”¨êµ¬í˜„ì¤‘ì¸ API
    description: ë¬¸ì„œë§Œ ì—…ë°ì´íŠ¸ ë˜ì—ˆê³  ì•„ì§ êµ¬í˜„ì¤‘ì…ë‹ˆë‹¤.
  - name: ì¸ì¦
    description: ì¸ì¦ API
  - name: íŒŒì¼ ì—…ë¡œë“œ
    description: íŒŒì¼ ì—…ë¡œë“œ API
  - name: ìœ ì €
    description: ìœ ì € API
  - name: ì»¤ë®¤ë‹ˆí‹°
    description: ì»¤ë®¤ë‹ˆí‹° API
  - name: ê¸°íƒ€
    description: ê³µì§€ì‚¬í•­ API

paths:
  /oauth2/token:
    post:
      tags:
        - ì¸ì¦
      summary: í† í° ë°œê¸‰
      description: |-
        API ì‚¬ìš©ì„ ìœ„í•œ ì—‘ì„¸ìŠ¤ í† í°ê³¼ ì—‘ì„¸ìŠ¤ í† í°ì„ ê°±ì‹ í•  ìˆ˜ ìˆëŠ” ë¦¬í”„ë ˆì‹œ í† í°ì„ ë°œê¸‰í•©ë‹ˆë‹¤.
        
        kakao, apple ë¡œê·¸ì¸ í›„, ë°œê¸‰ëœ 3rd-party JWT ì„œëª… í† í°(id_token)ì„ ì „ë‹¬í•˜ì—¬ ì—‘ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ë°œê¸‰í•©ë‹ˆë‹¤.
        - client_id(Required): kauth.kakao.com ë˜ëŠ” appleid.apple.com
        - grant_type(Required): client_credentials
        - client_assertion(Required): 3rd-party JWT ì„œëª… í† í°(id_token)
        - client_assertion_type(Required): urn:ietf:params:oauth:client-assertion-type:jwt-bearer
        - authorization_code(Required only apple case): ì¸ê°€ ì½”ë“œ
        - scope(Optional): user.read user.write
        
        ì—‘ì„¸ìŠ¤ í† í°ì´ ë§Œë£Œë˜ë©´ ë¦¬í”„ë ˆì‹œ í† í°ì„ ì „ë‹¬í•˜ì—¬ ì—‘ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ì¬ë°œê¸‰í•©ë‹ˆë‹¤.
        - client_id(Required): kauth.kakao.com ë˜ëŠ” appleid.apple.com
        - grant_type(Required): refresh_token
        - refresh_token(Required): ë¦¬í”„ë ˆì‹œ í† í°
        - scope(Optional): user.read user.write
        
        ì•„ë˜ëŠ” ë°œê¸‰ëœ PP API ì ‘ê·¼ ì—‘ì„¸ìŠ¤ í† í°(JWT) claims ì˜ˆì‹œì…ë‹ˆë‹¤.
        ```json
        {
          "sub": "1",
          "aud": "https://pp-api.kro.kr",
          "nbf": 1712984735,
          "scope": [
            "user.read",
            "user.write"
          ],
          "iss": "https://pp-api.kro.kr",
          "exp": 1712985035,
          "iat": 1712984735,
          "jti": "e82b8142-2018-455d-92d8-149bce81ec7f"
        }
        ```
        - sub(Required): í† í°ì„ ë°œê¸‰í•œ ìœ ì €ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” id(userId)
        - aub(Required): í† í°ì˜ ëŒ€ìƒì
        - nbf(Required): í† í°ì˜ í™œì„±í™” ë‚ ì§œ
        - scope(Optional): í† í°ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ ë²”ìœ„
        - iss(Required): í† í°ì˜ ë°œê¸‰ì
        - exp(Required): í† í°ì˜ ë§Œë£Œì‹œê°„
        - iat(Required): í† í°ì´ ë°œê¸‰ëœ ì‹œê°„
        - jti(Required): JWT ì„œëª… í‚¤í˜ì–´ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” id
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                grant_type:
                  type: string
                  description: |-
                    ê¶Œí•œ ë¶€ì—¬ ìœ í˜•
                    - client_credentials
                    - refresh_token
                  example: client_credentials
                client_id:
                  type: string
                  description: |-
                    í´ë¼ì´ì–¸íŠ¸ id
                    - kauth.kakao.com
                    - appleid.apple.com
                  example: kauth.kakao.com
                client_assertion:
                  type: string
                  description: 3rd-party JWT ì„œëª… í† í°(id_token)
                client_assertion_type:
                  type: string
                  description: urn:ietf:params:oauth:client-assertion-type:jwt-bearer ê³ ì •
                  example: urn:ietf:params:oauth:client-assertion-type:jwt-bearer
                authorization_code:
                  type: string
                  description: ì¸ê°€ ì½”ë“œ
                scope:
                  type: string
                  description: |-
                    ê¶Œí•œ ë²”ìœ„
                    - user.read
                    - user.write
                    - post.read
                    - post.write
                    - file.write
                  example: user.read user.write
                refresh_token:
                  type: string
                  description: ë¦¬í”„ë ˆì‹œ í† í°
              required:
                - grant_type
                - client_id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: ì—‘ì„¸ìŠ¤ í† í°
                  refresh_token:
                    type: string
                    description: ë¦¬í”„ë ˆì‹œ í† í°
                  scope:
                    type: string
                    description: |-
                      ê¶Œí•œ ë²”ìœ„
                      - user.read
                      - user.write
                      - post.read
                      - post.write
                      - file.write
                  token_type:
                    type: string
                    description: í† í° ìœ í˜•(Bearer ê³ ì •)
                  expires_in:
                    type: integer
                    description: í† í°ì˜ ìœ íš¨ ì‹œê°„(ì´ˆ)
                required:
                  - access_token
                  - refresh_token
                  - token_type
                  - expires_in
              examples:
                jwtBearerFlow:
                  value:
                    access_token: eyJraWQiOiIxYzAyZjMxYy1mMTU5LTQ5MDQtOTJjZC0zZGZiOGFiZGU0MTIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJrYXV0aC5rYWthby5jb20iLCJhdWQiOiJrYXV0aC5rYWthby5jb20iLCJuYmYiOjE3MTIzMjQzOTksInVzZXJfaWQiOjEsInNjb3BlIjpbInVzZXIucmVhZCIsInVzZXIud3JpdGUiXSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNzEyMzI0Njk5LCJpYXQiOjE3MTIzMjQzOTksImp0aSI6ImFiN2VhODI2LWFjYmUtNDcwMC1iNDdkLThmMWFiMDc3ZjJkMyJ9.Sq_cf7KS0ukMQvcYSecyVruQavBk92Lnly_YgnTSNAefIAQqeuPeOXFrKUjrrosbKyCmfKhljmwMSdCiSZ-d4dSoGDFSOLPoG8mc10r_cErQaN0EJFnfUylsu1HCAjBu6PBEMEMys3r02dWKt5cmyhPvLo9mobHJt-wYOqpkbLumNXngiCn-6U2hQmc9JKbwWtcyV2YR1BxuUzA86dY3565E2P_fu9c1h7EG5NYrliuTQGx4ZwMRIVpfF3rLOVHHXdrCrfuw32SuO1Zpf4DAoJ_tmqhm5TrSXC2ofnK57i9ot_9Mb28F3CiGEijTh6vBLvuohoZaWYRSutH3OEOysQ
                    refresh_token: 9r7r-Ar5Qr5uWisFPEiHg032J8U3PXsyJ2mUUp-2-raijR9V7hmr1YtVzB5caGiw_xoSDWAIxxHWlt8gOE2eQNrzZgsaMCy9C6i3uZ0neHLoTnDZVcXlob3ARvvBYA3b
                    scope: user.read user.write
                    token_type: Bearer
                    expires_in: 299
                refreshTokenFlow:
                  value:
                    access_token: eyJraWQiOiIxYzAyZjMxYy1mMTU5LTQ5MDQtOTJjZC0zZGZiOGFiZGU0MTIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJrYXV0aC5rYWthby5jb20iLCJhdWQiOiJrYXV0aC5rYWthby5jb20iLCJuYmYiOjE3MTIzMjQzOTksInVzZXJfaWQiOjEsInNjb3BlIjpbInVzZXIucmVhZCIsInVzZXIud3JpdGUiXSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNzEyMzI0Njk5LCJpYXQiOjE3MTIzMjQzOTksImp0aSI6ImFiN2VhODI2LWFjYmUtNDcwMC1iNDdkLThmMWFiMDc3ZjJkMyJ9.Sq_cf7KS0ukMQvcYSecyVruQavBk92Lnly_YgnTSNAefIAQqeuPeOXFrKUjrrosbKyCmfKhljmwMSdCiSZ-d4dSoGDFSOLPoG8mc10r_cErQaN0EJFnfUylsu1HCAjBu6PBEMEMys3r02dWKt5cmyhPvLo9mobHJt-wYOqpkbLumNXngiCn-6U2hQmc9JKbwWtcyV2YR1BxuUzA86dY3565E2P_fu9c1h7EG5NYrliuTQGx4ZwMRIVpfF3rLOVHHXdrCrfuw32SuO1Zpf4DAoJ_tmqhm5TrSXC2ofnK57i9ot_9Mb28F3CiGEijTh6vBLvuohoZaWYRSutH3OEOysQ
                    refresh_token: 9r7r-Ar5Qr5uWisFPEiHg032J8U3PXsyJ2mUUp-2-raijR9V7hmr1YtVzB5caGiw_xoSDWAIxxHWlt8gOE2eQNrzZgsaMCy9C6i3uZ0neHLoTnDZVcXlob3ARvvBYA3b
                    scope: user.read user.write
                    token_type: Bearer
                    expires_in: 299
        400:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Oauth2ErrorResponse'
              examples:
                Oauth2ErrorInvalidRequestExample:
                  $ref: '#/components/examples/Oauth2ErrorInvalidRequestExample'
                Oauth2ErrorServerErrorExample:
                  $ref: '#/components/examples/Oauth2ErrorServerErrorExample'


  /oauth2/revoke:
    post:
      tags:
        - ì¸ì¦
      summary: í† í° ë¬´íš¨í™”
      description: |-
        PP ì„œë²„ API ì‚¬ìš©ì„ ìœ„í•œ ì—‘ì„¸ìŠ¤ í† í° ë˜ëŠ” ë¦¬í”„ë ˆì‹œ í† í°ì„ ë¬´íš¨í™”í•©ë‹ˆë‹¤.

        - client_id(Required): kauth.kakao.com ë˜ëŠ” appleid.apple.com
        - token(Required): access_token ë˜ëŠ” refresh_token
        - token_type_hint(Optional): access_token ë˜ëŠ” refresh_token
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                client_id:
                  type: string
                  description: |-
                    í´ë¼ì´ì–¸íŠ¸ id
                    - kauth.kakao.com
                    - appleid.apple.com
                  example: kauth.kakao.com
                token:
                  type: string
                  description: ë¬´íš¨í™” ëŒ€ìƒ í† í°
                token_type_hint:
                  type: string
                  description: |-
                    í† í° íƒ€ì…
                    - access_token
                    - refresh_token
                  example: refresh_token
              required:
                - client_id
                - token
                - token_type_hint
      responses:
        200:
          description: ''
        400:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Oauth2ErrorResponse'
              examples:
                Oauth2ErrorInvalidRequestExample:
                  $ref: '#/components/examples/Oauth2ErrorInvalidRequestExample'
                Oauth2ErrorServerErrorExample:
                  $ref: '#/components/examples/Oauth2ErrorServerErrorExample'

  /api/v1/presigned-urls/upload:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - íŒŒì¼ ì—…ë¡œë“œ
      summary: íŒŒì¼ ì—…ë¡œë“œë¥¼ ìœ„í•œ ì„œëª…ëœ URL ìƒì„±
      description: |-
        íŒŒì¼ ì—…ë¡œë“œë¥¼ ìœ„í•œ ì„œëª…ëœ URLì„ ìƒì„±í•©ë‹ˆë‹¤.
        
        ìì„¸í•œ ë‚´ìš©ì€ ì™¸ë¶€ ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.
        - [AWS S3 Manual - Uploading Objects with presigned URLs](https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html)
        - [The illustrated guide to S3 pre-signed URLs](https://fourtheorem.com/the-illustrated-guide-to-s3-pre-signed-urls/)
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - file.write
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                presignedUploadUrlRequests:
                  type: array
                  description: íŒŒì¼ ì—…ë¡œë“œ url ì„œëª… ìš”ì²­
                  minimum: 1
                  maximum: 10
                  items:
                    type: object
                    properties:
                      fileType:
                        type: string
                        description: |-
                          íŒŒì¼ ì—…ë¡œë“œ ìœ í˜•
                          - PROFILE_IMAGE
                          - POST_IMAGE
                      fileName:
                        type: string
                        description: |-
                          íŒŒì¼ì´ë¦„
                          - s3 ê°ì²´ ì´ë¦„ì€ UUIDë¡œ ì—…ë¡œë“œë©ë‹ˆë‹¤.
                      fileContentLength:
                        type: integer
                        description: |-
                          Content-Length(bytes)
                          - PROFILE_IMAGE: ìµœëŒ€ 1048576 bytes(1mb)
                          - POST_IMAGE: ìµœëŒ€ 1048576 bytes(1mb)
                      fileContentType:
                        type: string
                        description: |-
                          Content-Type
                          - PROFILE_IMAGE:
                            - image/gif
                            - image/png
                            - image/jpeg
                          - POST_IMAGE: 
                            - image/gif
                            - image/png
                            - image/jpeg
                    required:
                      - fileType
                      - fileName
                      - fileContentLength
                      - fileContentType
                  example:
                    - fileType: PROFILE_IMAGE
                      fileName: example1
                      fileContentLength: 500000
                      fileContentType: image/png
                    - fileType: POST_IMAGE
                      fileName: example2
                      fileContentLength: 650000
                      fileContentType: image/jpeg
              required:
                - presignedUploadUrlRequests
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      presignedUploadUrlResponses:
                        type: array
                        description: íŒŒì¼ ì—…ë¡œë“œ url ì„œëª… ì‘ë‹µ
                        items:
                          type: object
                          properties:
                            fileUploadId:
                              type: integer
                              description: íŒŒì¼ ì—…ë¡œë“œ id
                            fileName:
                              type: string
                              description: ìš”ì²­í–ˆë˜ íŒŒì¼ì´ë¦„
                            presignedUploadUrl:
                              type: string
                              description: ì„œëª…ëœ íŒŒì¼ ì—…ë¡œë“œ url
                            fileUrl:
                              type: string
                              description: íŒŒì¼ url
                          required:
                            - fileUploadId
                            - fileName
                            - presignedUploadUrl
                            - fileUrl
                        example:
                          - fileUploadId: 1
                            fileName: example1
                            presignedUploadUrl: https://pp-public-bucket.s3.ap-northeast-2.amazonaws.com/profile_img/0068c1a7-7eba-40c2-926b-3e39747f5d8c?response-content-disposition=inline&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEH4aDmFwLW5vcnRoZWFzdC0yIkYwRAIgOF4z5YJLMI1YQsfDsOu3ItBFpvDAMWHNT%2BJFqA2EHzQCICSHWV3QpnyDPwfp6eGWYmrBl5NMZn9JC%2FaOUhMlhv2OKpIDCKj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNzMwMzM1NTk0MTg2IgzvG6wQSpimxC7HWRsq5gK%2BszFeBYYK3QvsZZ40%2Fm1EPdSzYWmasXWgjM2879zl7Cp66x%2F8HRa6BCQSsyMdP9gMPn5MifObVLqFS8owu7e4uH68tbfmSF1ipFwr%2BMl3DS5DQUCTaRraoi%2F2PTTEHRHtA1dbE6XfXttkRQYkaEIKvR3X44sMlqI2rKOQtpFU5g5%2BzEG7NQHeIbgPMThPBXT%2Bu8IgqOaKyqaKLTTjjUcCBhoYaToDeOaZbFIElmdLADswM34ID5jCt3jPOGlBX04GI8X%2BXbtzyIeDH2ihmWDejpGv8%2BUx9v%2F%2BHX80PnZkUUyz1f8KjweBETyJHiZTFxxtJ6nG3Y%2Bs0LVgLshHWa5Md1HG11ASlNFT%2BSuKzPfQqiohAzeP%2Ff7CLFUlDQmB2kcNKwGAFgDUmMF%2FNC1ePM%2BiwL%2F6BGtbJu9gbu6PHj0%2FuUGQuKar0xd5azhWxM9bpZ2Gn7YBGbAPwVUsS1YEYr0OMgzNEr9sMK6UwLAGOrQCPN2SL1x7N%2FrRXPUw98if3xLq9iLosA4oPUCGxVzzGUX2L88Fq2l4qJTRo85qI%2Fc%2BEWz7WBufa2XsnMMMh8lXADb1UkLxLEOHr5pIWUroWM0uzGp%2FuvpoMmEFZieKu9cGrC%2FqOFo%2BGL3lN%2B9vZcEb3w2SpeImGDdataWOUB3njXoNhYx8Oyxv87aWhXQjIp96PUhmVaVPOkfMY%2FySz97TqXTxNh7gSW95ch2QJa1xmR%2FXHBKB7HuYEWGODNuEa8PSARBeKpXy7S1WoHgPcCHCzmrVcGMA6H9nfSxnBzwKqR%2FahzbqbEUIa5kXYLwll%2FQAI%2BNKhyFya9HzDl5f9sAXdt1hfQ9dwM2WdDB4mQxnESgPsBe%2F4MtXr%2Btvs8qqD0XLeu35c89wjDOb4osHDJLevfkPvPE%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20240405T142839Z&X-Amz-SignedHeaders=host&X-Amz-Expires=60&X-Amz-Credential=ASIA2UC3EY3FFAXNMRH5%2F20240405%2Fap-northeast-2%2Fs3%2Faws4_request&X-Amz-Signature=6e710f43b229be2a5b63e543c9d61b2dbc66bd2b5035b55c207cce060eacd480
                            fileUrl: https://pp-public-bucket.s3.ap-northeast-2.amazonaws.com/profile_img/0068c1a7-7eba-40c2-926b-3e39747f5d8c
                          - fileUploadId: 2
                            fileName: example2
                            presignedUploadUrl: https://pp-public-bucket.s3.ap-northeast-2.amazonaws.com/post_img/1124c1a7-7eba-40c2-356b-3e39747f5d8c?response-content-disposition=inline&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEH4aDmFwLW5vcnRoZWFzdC0yIkYwRAIgOF4z5YJLMI1YQsfDsOu3ItBFpvDAMWHNT%2BJFqA2EHzQCICSHWV3QpnyDPwfp6eGWYmrBl5NMZn9JC%2FaOUhMlhv2OKpIDCKj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNzMwMzM1NTk0MTg2IgzvG6wQSpimxC7HWRsq5gK%2BszFeBYYK3QvsZZ40%2Fm1EPdSzYWmasXWgjM2879zl7Cp66x%2F8HRa6BCQSsyMdP9gMPn5MifObVLqFS8owu7e4uH68tbfmSF1ipFwr%2BMl3DS5DQUCTaRraoi%2F2PTTEHRHtA1dbE6XfXttkRQYkaEIKvR3X44sMlqI2rKOQtpFU5g5%2BzEG7NQHeIbgPMThPBXT%2Bu8IgqOaKyqaKLTTjjUcCBhoYaToDeOaZbFIElmdLADswM34ID5jCt3jPOGlBX04GI8X%2BXbtzyIeDH2ihmWDejpGv8%2BUx9v%2F%2BHX80PnZkUUyz1f8KjweBETyJHiZTFxxtJ6nG3Y%2Bs0LVgLshHWa5Md1HG11ASlNFT%2BSuKzPfQqiohAzeP%2Ff7CLFUlDQmB2kcNKwGAFgDUmMF%2FNC1ePM%2BiwL%2F6BGtbJu9gbu6PHj0%2FuUGQuKar0xd5azhWxM9bpZ2Gn7YBGbAPwVUsS1YEYr0OMgzNEr9sMK6UwLAGOrQCPN2SL1x7N%2FrRXPUw98if3xLq9iLosA4oPUCGxVzzGUX2L88Fq2l4qJTRo85qI%2Fc%2BEWz7WBufa2XsnMMMh8lXADb1UkLxLEOHr5pIWUroWM0uzGp%2FuvpoMmEFZieKu9cGrC%2FqOFo%2BGL3lN%2B9vZcEb3w2SpeImGDdataWOUB3njXoNhYx8Oyxv87aWhXQjIp96PUhmVaVPOkfMY%2FySz97TqXTxNh7gSW95ch2QJa1xmR%2FXHBKB7HuYEWGODNuEa8PSARBeKpXy7S1WoHgPcCHCzmrVcGMA6H9nfSxnBzwKqR%2FahzbqbEUIa5kXYLwll%2FQAI%2BNKhyFya9HzDl5f9sAXdt1hfQ9dwM2WdDB4mQxnESgPsBe%2F4MtXr%2Btvs8qqD0XLeu35c89wjDOb4osHDJLevfkPvPE%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20240405T142839Z&X-Amz-SignedHeaders=host&X-Amz-Expires=60&X-Amz-Credential=ASIA2UC3EY3FFAXNMRH5%2F20240405%2Fap-northeast-2%2Fs3%2Faws4_request&X-Amz-Signature=6e710f43b229be2a5b63e543c9d61b2dbc66bd2b5035b55c207cce060eacd480
                            fileUrl: https://pp-public-bucket.s3.ap-northeast-2.amazonaws.com/post_img/1124c1a7-7eba-40c2-356b-3e39747f5d8c
                    required:
                      - presignedUploadUrlResponses
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/oauth2/{client}/users/registered:
    post:
      tags:
        - ìœ ì €
      summary: Oauth ë¡œê·¸ì¸ íšŒì› ë“±ë¡ ì—¬ë¶€ í™•ì¸
      description: |-
        Oauth ë¡œê·¸ì¸ íšŒì›ì˜ ë“±ë¡ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
      parameters:
        - in: path
          name: client
          schema:
            type: string
            enum:
              - kakao
              - apple
          required: true
          description: |-
            í´ë¼ì´ì–¸íŠ¸
              - kakao
              - apple
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                idToken:
                  type: string
                  description: 3rd-party JWT ì„œëª… í† í°(id_token)
              required:
                - idToken
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      isRegistered:
                        type: boolean
                        description: ì´ë¯¸ ë“±ë¡ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€
                        example: false
                    required:
                      - isRegistered
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'


  /api/v1/users/{userId}:
    patch:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
      summary: ìœ ì € ì •ë³´ ìˆ˜ì •
      description: |-
        ìœ ì € ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - user.read
        - user.write
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                  description: ìœ ì € ë‹‰ë„¤ì„
                  example: ë°”ë‹¤ê±°ë¶ë§˜
                profileImageFileUploadId:
                  type: integer
                  description: í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ id
                  example: 1
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'
    delete:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
      summary: ìœ ì € íƒˆí‡´
      description: |-
        ìœ ì € ì •ë³´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - user.read
        - user.write
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/users/{userId}/profiles:
    get:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
      summary: ìœ ì € í”„ë¡œí•„ ì¡°íšŒ
      description: |-
        ìœ ì €ì˜ í”„ë¡œí•„ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - user.read
        - post.read
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      user:
                        type: object
                        properties:
                          id:
                            type: integer
                            description: ìœ ì € id
                            example: 1
                          nickname:
                            type: string
                            description: ìœ ì € ë‹‰ë„¤ì„
                            example: sinbom
                          profileImageUrl:
                            type: integer
                            description: í”„ë¡œí•„ ì´ë¯¸ì§€ url
                            example: https://avatars.githubusercontent.com/u/52724515
                          postCount:
                            type: integer
                            description: ê²Œì‹œê¸€ ìˆ˜
                            example: 2
                          thumbsUpCount:
                            type: integer
                            description: ë°›ì€ ì¢‹ì•„ìš” ìˆ˜
                            example: 1
                          isBlocked:
                            type: boolean
                            description: ì°¨ë‹¨ ì—¬ë¶€ (ì•„ì§ ì ìš© ë° ë°°í¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!)
                            example: false
                          posts:
                            type: array
                            description: |-
                              ìœ ì €ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€
                              - ì°¨ë‹¨ëœ ê²½ìš°ëŠ” ë¹ˆ ë°°ì—´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: ê²Œì‹œê¸€ id
                                thumbnailUrl:
                                  type: string
                                  description: ì¸ë„¤ì¼ url
                                title:
                                  type: string
                                  description: ì œëª©
                                createDate:
                                  type: string
                                  description: ì‘ì„±ì¼
                              required:
                                - id
                                - title
                                - createDate
                            example:
                              - id: 3
                                thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                                title: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                                createDate: 2024.03.30 19:34:02
                              - id: 2
                                thumbnailUrl: null
                                title: ì˜¤ëŠ˜ ìš°ë¦¬ì§‘ì— í–„ìŠ¤í„°ë¥¼...
                                createDate: 2024.03.30 16:12:37
                              - id: 1
                                thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                                title: ë¬¸ì„œ ì ëŠ”ê²Œ ì›ë˜ ì´ë ‡ê²Œ í˜ë“ ...
                                createDate: 2024.02.12 15:32:00
                        required:
                          - id
                          - nickname
                          - profileImageUrl
                          - postCount
                          - thumbsUpCount
                          - isBlocked
                          - posts
                    required:
                      - user
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/users/{userId}/posts:
    get:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
      summary: ìœ ì € ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
      description: |-
        ìœ ì €ê°€ ë“±ë¡í•œ ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ìµœê·¼ ë“±ë¡ ë‚´ë¦¼ì°¨ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì¡°íšŒë©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.read
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
        - in: query
          name: limit
          schema:
            type: integer
          description: |-
            ì¡°íšŒ ê°¯ìˆ˜
            - ê¸°ë³¸ ê°’ 20
            - ìµœì†Œ ê°’ 10
            - ìµœëŒ€ ê°’ 100
        - in: query
          name: lastId
          schema:
            type: integer
          description: |-
            ë§ˆì§€ë§‰ ì¡°íšŒ ê²Œì‹œê¸€ id
            - ë§Œì•½ 100ì„ ì…ë ¥í–ˆë‹¤ë©´ ë‹¤ìŒ ì¡°íšŒëŠ” 99ë¶€í„° ì…ë‹ˆë‹¤.
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      posts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ê²Œì‹œê¸€ id
                            thumbnailUrl:
                              type: string
                              description: ì¸ë„¤ì¼ url
                            title:
                              type: string
                              description: ì œëª©
                            createDate:
                              type: string
                          required:
                            - id
                            - title
                            - createDate
                        example:
                          - id: 3
                            thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                            title: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                            createDate: 2024.03.30 19:34:02
                          - id: 2
                            thumbnailUrl: null
                            title: ì˜¤ëŠ˜ ìš°ë¦¬ì§‘ì— í–„ìŠ¤í„°ë¥¼...
                            createDate: 2024.03.30 16:12:37
                          - id: 1
                            thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                            title: ë¬¸ì„œ ì ëŠ”ê²Œ ì›ë˜ ì´ë ‡ê²Œ í˜ë“ ...
                            createDate: 2024.02.12 15:32:00
                    required:
                      - posts
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/users/{userId}/block:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
        - ğŸ”¨êµ¬í˜„ì¤‘ì¸ API
      summary: ìœ ì € ì°¨ë‹¨
      description: |-
        í•´ë‹¹ ìœ ì €ë¥¼ ì°¨ë‹¨í•©ë‹ˆë‹¤.

        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - user.read
        - user.write
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/users/{userId}/unblock:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ìœ ì €
        - ğŸ”¨êµ¬í˜„ì¤‘ì¸ API
      summary: ìœ ì € ì°¨ë‹¨ í•´ì œ
      description: |-
        ì°¨ë‹¨í•œ ìœ ì €ë¥¼ ì°¨ë‹¨ í•´ì œí•©ë‹ˆë‹¤.

        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - user.read
        - user.write
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
          required: true
          description: ìœ ì € id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts:
    get:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ìµœê·¼ ë“±ë¡ ë‚´ë¦¼ì°¨ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì¡°íšŒë©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.write
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: |-
            ì¡°íšŒ ê°¯ìˆ˜
            - ê¸°ë³¸ ê°’ 20
            - ìµœì†Œ ê°’ 10
            - ìµœëŒ€ ê°’ 100
        - in: query
          name: lastId
          schema:
            type: integer
          description: |-
            ë§ˆì§€ë§‰ ì¡°íšŒ ê²Œì‹œê¸€ id
            - ë§Œì•½ 100ì„ ì…ë ¥í–ˆë‹¤ë©´ ë‹¤ìŒ ì¡°íšŒëŠ” 99ë¶€í„° ì…ë‹ˆë‹¤.
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      posts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ê²Œì‹œê¸€ id
                            thumbnailUrl:
                              type: string
                              description: ì¸ë„¤ì¼ url
                            title:
                              type: string
                              description: ì œëª©
                            createDate:
                              type: string
                              description: ì‘ì„±ì¼
                          required:
                            - id
                            - title
                            - createDate
                        example:
                          - id: 3
                            thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                            title: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                            createDate: 2024.03.30 19:34:02
                          - id: 2
                            thumbnailUrl: null
                            title: ì˜¤ëŠ˜ ìš°ë¦¬ì§‘ì— í–„ìŠ¤í„°ë¥¼...
                            createDate: 2024.03.30 16:12:37
                          - id: 1
                            thumbnailUrl: https://avatars.githubusercontent.com/u/52724515
                            title: ë¬¸ì„œ ì ëŠ”ê²Œ ì›ë˜ ì´ë ‡ê²Œ í˜ë“ ...
                            createDate: 2024.02.12 15:32:00
                    required:
                      - posts
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì‘ì„±
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ë  ìœ ì €ì˜ ê²Œì‹œê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
          - post.write
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: ê²Œì‹œê¸€ ì œëª©
                  example: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                content:
                  type: integer
                  description: ê²Œì‹œê¸€ ë‚´ìš©
                  example: ë°”ë‹¤ ê±°ë¶ì´ê°€ ìƒê°ë³´ë‹¤ í¬ì§„ ì•Šë„¤?
                postImageFileUploadIds:
                  type: array
                  description: |-
                    ê²Œì‹œê¸€ íŒŒì¼ ì—…ë¡œë“œ id
                    - ìµœëŒ€ 10ê°œ
                    - ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ì¸ë„¤ì¼ ì´ë¯¸ì§€ë¡œ ì„ ì •ë©ë‹ˆë‹¤.
                  items:
                    type: integer
                  example: [1, 2, 3]
              required:
                - title
                - content
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
          headers:
            Location:
              schema:
                type: string
              description: Location
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts/{postId}:
    get:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ìƒì„¸ë‚´ìš© ì¡°íšŒ
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ ìƒì„¸ë‚´ìš©ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.read
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      post:
                        type: object
                        properties:
                          id:
                            type: integer
                            description: ê²Œì‹œê¸€ id
                            example: 1
                          postImageUrls:
                            type: array
                            description: |-
                              ê²Œì‹œê¸€ ì´ë¯¸ì§€ url
                              - ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ì¸ë„¤ì¼ ì´ë¯¸ì§€ë¡œ ì„ ì •ë©ë‹ˆë‹¤.
                              - ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.
                            items:
                              type: string
                            example: [https://avatars.githubusercontent.com/u/52724515, https://avatars.githubusercontent.com/u/52724515]
                          title:
                            type: string
                            description: ì œëª©
                            example: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                          content:
                            type: string
                            description: ë‚´ìš©
                            example: ë°”ë‹¤ ê±°ë¶ì´ ë³¸ ë‚ 
                          createDate:
                            type: string
                            description: ì‘ì„±ì¼
                            example: 2024.03.30 19:34:02
                          thumbsUpCount:
                            type: integer
                            description: ë°›ì€ ì¢‹ì•„ìš” ìˆ˜
                            example: 40
                          commentCount:
                            type: integer
                            description: ëŒ“ê¸€ ìˆ˜
                            example: 39
                          userActionHistory:
                            type: object
                            description: ê²Œì‹œê¸€ì— ëŒ€í•œ ìœ ì €ì˜ ì´ë ¥
                            properties:
                              thumbsUpped:
                                type: boolean
                                description: ì¢‹ì•„ìš” ì—¬ë¶€
                                example: true
                              reported:
                                type: boolean
                                description: ì‹ ê³  ì—¬ë¶€
                                example: false
                            required:
                              - thumbsUpped
                              - reported
                          createdUser:
                            type: object
                            description: ê²Œì‹œê¸€ ì‘ì„±ì
                            properties:
                              id:
                                type: integer
                                description: ìœ ì € id
                                example: 1
                              nickname:
                                type: string
                                description: ìœ ì € ë‹‰ë„¤ì„
                                example: sinbom
                              profileImageUrl:
                                type: integer
                                description: í”„ë¡œí•„ ì´ë¯¸ì§€ url
                                example: https://avatars.githubusercontent.com/u/52724515
                            required:
                              - id
                              - nickname
                              - profileImageUrl
                        required:
                          - createdUser
                          - user
                          - id
                          - postImageUrls
                          - title
                          - content
                          - createDate
                          - thumbsUpCount
                          - commentCount
                          - userActionHistory
                    required:
                      - post
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'
    delete:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì‚­ì œ
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ì„ ì‚­ì œí•©ë‹ˆë‹¤.

        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.read
        - post.write
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts/{postId}/report:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì‹ ê³ 
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ì„ ì‹ ê³ í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.write
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts/{postId}/thumbs-up:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì¢‹ì•„ìš”
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.write
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts/{postId}/thumbs-sideways:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì €ì˜ ê²Œì‹œê¸€ ì¢‹ì•„ìš”ë¥¼ ì·¨ì†Œí•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.write
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/posts/{postId}/comments:
    get:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì € ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ìµœê·¼ ë“±ë¡ ë‚´ë¦¼ì°¨ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì¡°íšŒë©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.read
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
        - in: query
          name: limit
          schema:
            type: integer
          description: |-
            ì¡°íšŒ ê°¯ìˆ˜
            - ê¸°ë³¸ ê°’ 20
            - ìµœì†Œ ê°’ 10
            - ìµœëŒ€ ê°’ 100
        - in: query
          name: lastId
          schema:
            type: integer
          description: |-
            ë§ˆì§€ë§‰ ì¡°íšŒ ëŒ“ê¸€ id
            - ë§Œì•½ 100ì„ ì…ë ¥í–ˆë‹¤ë©´ ë‹¤ìŒ ì¡°íšŒëŠ” 99ë¶€í„° ì…ë‹ˆë‹¤.
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      comments:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ëŒ“ê¸€ id
                            content:
                              type: string
                              description: ë‚´ìš©
                            createDate:
                              type: string
                              description: ì‘ì„±ì¼
                            createdUser:
                              type: object
                              description: ê²Œì‹œê¸€ ì‘ì„±ì
                              properties:
                                id:
                                  type: integer
                                  description: ìœ ì € id
                                  example: 1
                                nickname:
                                  type: string
                                  description: ìœ ì € ë‹‰ë„¤ì„
                                  example: sinbom
                                profileImageUrl:
                                  type: integer
                                  description: í”„ë¡œí•„ ì´ë¯¸ì§€ url
                                  example: https://avatars.githubusercontent.com/u/52724515
                              required:
                                - id
                                - nickname
                                - profileImageUrl
                          required:
                            - id
                            - content
                            - createDate
                            - createdUser
                        example:
                          - id: 3
                            content: ë°”ë‹¤ ê±°ë¶ì´ ëŒ‡ì€ ë°”ë¹ ì„œ ì•ˆì™”ë‹¤ê³  í•©ë‹ˆë‹¤.
                            createDate: 2024.05.02 19:34:02
                            createdUser:
                              id: 1
                              nickname: ë°”ë‹¤ê±°ë¶ë§˜
                              profileImageUrl: https://avatars.githubusercontent.com/u/52724515
                          - id: 2
                            content: ì•ˆë…•í•˜ì„¸ìš”! ë°˜ê°‘ìŠµë‹ˆë‹¤~
                            createDate: 2024.05.01 16:12:37
                            createdUser:
                              id: 1
                              nickname: ë°”ë‹¤ê±°ë¶ë§˜
                              profileImageUrl: https://avatars.githubusercontent.com/u/52724515
                          - id: 1
                            content: ì œê°€ ì²« ëŒ“ê¸€ì…ë‹ˆë‹¤ ^^
                            createDate: 2024.04.29 15:32:00
                            createdUser:
                              id: 1
                              nickname: ë°”ë‹¤ê±°ë¶ë§˜
                              profileImageUrl: https://avatars.githubusercontent.com/u/52724515
                    required:
                      - comments
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ëŒ“ê¸€ ì‘ì„±
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì € ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
          - post.write
      parameters:
        - in: path
          name: postId
          schema:
            type: integer
          required: true
          description: ê²Œì‹œê¸€ id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: integer
                  description: ê²Œì‹œê¸€ ë‚´ìš©
                  example: ì™œ ë°”ë‹¤ ê±°ë¶ì´ ëŒ‡ì€ ì—†ë‚˜ìš” ã… ã… ?
              required:
                - content
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/comments/{commentId}/report:
    post:
      security:
        - bearerToken: [ ]
      tags:
        - ì»¤ë®¤ë‹ˆí‹°
      summary: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ ëŒ“ê¸€ ì‹ ê³ 
      description: |-
        ì»¤ë®¤ë‹ˆí‹°ì— ë“±ë¡ëœ ìœ ì € ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ì„ ì‹ ê³ í•©ë‹ˆë‹¤.
        
        API ì‚¬ìš©ì— í•„ìš”í•œ ê¶Œí•œ(scope)
        - post.write
      parameters:
        - in: path
          name: commentId
          schema:
            type: integer
          required: true
          description: ëŒ“ê¸€ id
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultResponse'
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

  /api/v1/notices:
    get:
      tags:
        - ê¸°íƒ€
      summary: ê³µì§€ì‚¬í•­ ì¡°íšŒ
      description: |-
        ê³µì§€ì‚¬í•­ì„ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ìµœê·¼ ë“±ë¡ ë‚´ë¦¼ì°¨ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì¡°íšŒë©ë‹ˆë‹¤.
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: |-
            ì¡°íšŒ ê°¯ìˆ˜
            - ê¸°ë³¸ ê°’ 20
            - ìµœì†Œ ê°’ 10
            - ìµœëŒ€ ê°’ 100
        - in: query
          name: lastId
          schema:
            type: integer
          description: |-
            ë§ˆì§€ë§‰ ì¡°íšŒ ê³µì§€ì‚¬í•­ id
            - ë§Œì•½ 100ì„ ì…ë ¥í–ˆë‹¤ë©´ ë‹¤ìŒ ì¡°íšŒëŠ” 99ë¶€í„° ì…ë‹ˆë‹¤.
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      notices:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ê³µì§€ì‚¬í•­ id
                            title:
                              type: string
                              description: ì œëª©
                            content:
                              type: string
                              description: ë‚´ìš©
                            createDate:
                              type: string
                              description: ì‘ì„±ì¼
                          required:
                            - id
                            - title
                            - content
                            - createDate
                        example:
                          - id: 3
                            title: ë” ì¢‹ì€ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ì•± ìµœì†Œ ì§€ì› ë²„ì „ì´ ë³€ê²½ë  ì˜ˆì •ì´ì—ìš”.
                            content: ì‚¬ì‹¤ êµ¬ë¼ì…ë‹ˆë‹¤ ì´ê±° ë³´ì—¬ì£¼ë ¤ê³  ì–´ê·¸ë¡œ ëŒì—ˆìŠµë‹ˆë‹¤.
                            createDate: 2024.03.30
                          - id: 2
                            title: ë” ì¢‹ì€ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ì•± ìµœì†Œ ì§€ì› ë²„ì „ì´ ë³€ê²½ë  ì˜ˆì •ì´ì—ìš”.
                            content: ì‚¬ì‹¤ êµ¬ë¼ì…ë‹ˆë‹¤ ì´ê±° ë³´ì—¬ì£¼ë ¤ê³  ì–´ê·¸ë¡œ ëŒì—ˆìŠµë‹ˆë‹¤.
                            createDate: 2024.03.30
                          - id: 1
                            title: ë” ì¢‹ì€ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ì•± ìµœì†Œ ì§€ì› ë²„ì „ì´ ë³€ê²½ë  ì˜ˆì •ì´ì—ìš”.
                            content: ì‚¬ì‹¤ êµ¬ë¼ì…ë‹ˆë‹¤ ì´ê±° ë³´ì—¬ì£¼ë ¤ê³  ì–´ê·¸ë¡œ ëŒì—ˆìŠµë‹ˆë‹¤.
                            createDate: 2024.02.12
                    required:
                      - notices
                required:
                  - data
        4XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error4XXExample:
                  $ref: '#/components/examples/ProblemDetailError4XXExample'
        5XX:
          description: ''
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetailErrorResponse'
              examples:
                RFC7807Error5XXExample:
                  $ref: '#/components/examples/ProblemDetailError5XXExample'

components:
  securitySchemes:
    bearerToken:
      type: http
      scheme: bearer
      description: JWT ì„œëª… í† í°(access_token)

  schemas:
    DefaultResponse:
      type: object
      properties:
        data:
          type: object
      required:
        - data
    Oauth2ErrorResponse:
      type: object
      externalDocs:
        description: RFC-6749 Oauth2 error response
        url: https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1
      properties:
        error:
          type: string
        error_description:
          type: string
        error_uri:
          type: string
          example: https://datatracker.ietf.org/doc/html/rfc6749#section-5.2
      required:
        - error
    ProblemDetailErrorResponse:
      type: object
      externalDocs:
        description: RFC-7807 problem detail error response
        url: https://datatracker.ietf.org/doc/html/rfc7807#section-3.1
      properties:
        type:
          type: string
        title:
          type: string
        status:
          type: integer
        detail:
          type: string
        instance:
          type: string
      required:
        - type
        - title
        - detail
        - instance

  examples:
    Oauth2ErrorInvalidRequestExample:
      value:
        error: invalid_request
    Oauth2ErrorServerErrorExample:
      value:
        error: server_error
        error_description: The token generator failed to generate the refresh token.
        error_uri: https://datatracker.ietf.org/doc/html/rfc6749#section-5.2
    ProblemDetailError4XXExample:
      value:
        type: about:blank
        title: Bad Request
        status: 400
        detail: ì˜ëª»ëœ ìš”ì²­ì´ì—ìš”
        instance: /api/v1/example
    ProblemDetailError5XXExample:
      value:
        type: about:blank
        title: Internal Server Error
        status: 500
        detail: ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”
        instance: /api/v1/example

servers:
  - url: https://pp-api.kro.kr
    description: PP Rest API Server